/**
 * Form field styles – labels and inputs
 * Uses design tokens – requires design-system.css
 */

/* ========== Labels ========== */
/* Form labels always appear above inputs */
.b99-style .econ-form-label label,
.b99-style .econ-form-label .form-label {
  /* Color declarations */
  color: var(--label-color);

  /* Display declarations */
  display: block;

  /* Typography declarations */
  font-family: var(--font-family);
  font-size: var(--label-font-size);
  font-weight: var(--label-font-weight);
  letter-spacing: var(--letter-spacing-default);

  /* Box Model declarations */
  margin-bottom: var(--label-margin-bottom);
  margin-left: var(--label-margin-left);
}

/* ========== Input fields ========== */
/* Base styles for text inputs and select dropdowns */
.econ-container .b99-style .form-control,
.econ-container .b99-style .form-select {
  /* Box Model declarations */
  box-sizing: border-box;
  border: unset;
  border-color: var(--input-border-color);
  border-style: solid;
  border-width: var(--input-border-width);
  padding: var(--input-padding);
  
  /* Color declarations */
  /* Remove Bootstrap's default background images (caret icons, etc.) */
  background-color: var(--input-background);
  background-image: none;
  background-position: unset;
  background-repeat: no-repeat;
  background-size: unset;
  color: var(--input-color);

  /* Miscellaneous declarations */
  border-radius: var(--input-border-radius);

  /* Typography declarations */
  font-family: var(--font-family);
  font-size: var(--input-font-size);
  font-weight: var(--input-font-weight);
  letter-spacing: var(--letter-spacing-default);
  text-transform: none;
  word-wrap: normal;
  
  /* Manipulations declarations */
  transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
}

/* Focus state - darker border and subtle shadow */
.econ-container .b99-style .form-control:focus,
.econ-container .b99-style .form-select:focus,
.econ-container .b99-style .form-control:hover,
.econ-container .b99-style .form-select:hover {
  /* Box Model declarations */
  border-color: var(--input-border-color-focus);
  outline: 0;

  /* Miscellaneous declarations */
  box-shadow: var(--input-box-shadow-focus);
}



/* Read Only states */
.econ-container .b99-style input[type="text"]:read-only,
.econ-container .b99-style input[type="number"]:read-only,
.econ-container .b99-style input[type="email"]:read-only,
.econ-container .b99-style input[type="tel"]:read-only,
.econ-container .b99-style input[type="date"]:read-only,
.econ-container .b99-style textarea:read-only,
.econ-container .b99-style select[disabled],
.econ-container .b99-style select[disabled] {
  /* Box Model declarations */
  border: var(--input-border-width) solid var(--color-border);
  /* Color declarations */
  background-color: var(--color-border-70);

  /* Miscellaneous declarations */
  opacity: 1;
  pointer-events: none;
}

/* Date input with specific data attribute */
/* Default (Android & others) */
.econ-container .b99-style input[type="date"][data-econ-property="antrag-antragsteller1-personenDaten-geburtsdatum"],
.econ-container .b99-style input[type="month"][data-econ-property="antrag-antragsteller1-personenDaten-adresse-wohnhaftSeit"] {
  width: 100%;
}

/* iOS only — targets WebKit on iOS specifically */
@supports (-webkit-touch-callout: none) {
  .econ-container .b99-style input[type="date"][data-econ-property="antrag-antragsteller1-personenDaten-geburtsdatum"],
  .econ-container .b99-style input[type="month"][data-econ-property="antrag-antragsteller1-personenDaten-adresse-wohnhaftSeit"] {
    width: 93%;
  }
}

input::-webkit-date-and-time-value {
  text-align: left;
}

/* Calendar icon for date/month inputs - parent pseudo-element */
.econ-container .b99-style .econ-form-control-inner.econ-form-control-input-text:has(input[type="date"][data-econ-property="antrag-antragsteller1-personenDaten-geburtsdatum"]),
.econ-container .b99-style .econ-form-control-inner.econ-form-control-input-text:has(input[type="month"][data-econ-property="antrag-antragsteller1-personenDaten-adresse-wohnhaftSeit"]) {
  /* Positioning declarations */
  position: relative;
}

.econ-container .b99-style .econ-form-control-inner.econ-form-control-input-text:has(input[type="date"][data-econ-property="antrag-antragsteller1-personenDaten-geburtsdatum"])::before,
.econ-container .b99-style .econ-form-control-inner.econ-form-control-input-text:has(input[type="month"][data-econ-property="antrag-antragsteller1-personenDaten-adresse-wohnhaftSeit"])::before {
  /* Content declarations */
  content: '';

  /* Display declarations */
  display: inline-block;

  /* Box Model declarations */
  height: var(--icon-size-sm);
  width: var(--icon-size-sm);

  /* Positioning declarations */
  position: absolute;
  right: calc(var(--input-padding) * 2);
  top: 50%;
  transform: translateY(-50%);

  /* Color declarations */
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23000' d='M19 3h-1V1h-2v2H8V1H6v2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11z'/%3E%3C/svg%3E");
  background-position: center;
  background-repeat: no-repeat;
  background-size: contain;

  /* Miscellaneous declarations */
  pointer-events: none;
  z-index: 1;
}

/* Read-only form control with input-group-append */
.econ-container .b99-style .input-group:has(input[type="text"][readonly]) .bi,
.econ-container .b99-style .input-group:has(input[type="date"][readonly]) .bi {
  /* Color declarations */
  background-color: var(--color-border);
}

.b99-style .econ-fragment-radio-group .econ-radio .col-6:has(input[readonly]) .econ-radio-label::after {
  /* Display declarations */
  display: none;
}

/* ========== Select dropdowns ========== */
/* Remove native browser dropdown caret */
.b99-style .econ-form-control-select .form-select {
  /* Display declarations */
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  display: block;

  /* Box Model declarations */
  width: 100%;
}

/* Select wrapper - positioned relative for custom caret */
.b99-style .econ-form-control-select {
  /* Box Model declarations */
  box-sizing: border-box;

  /* Positioning declarations */
  position: relative;
}

/* Custom dropdown caret - gray box with white chevron icon */
.b99-style .econ-form-control-select::after {
  /* Content declarations */
  content: "";

  /* Positioning declarations */
  position: absolute;
  right: 0;
  top: 50%;

  /* Miscellaneous declarations */
  border-radius: var(--caret-border-radius);
  pointer-events: none;
  
  /* Box Model declarations */
  height: 100%;
  width: 29px;
  
  /* Color declarations */
  background-color: var(--caret-background);
  
  /* Manipulations declarations */
  transform: translateY(-50%);

  /* Color declarations */
  /* White chevron down icon */
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 12 12'%3E%3Cpath fill='none' stroke='%23ffffff' stroke-width='1' stroke-linecap='round' stroke-linejoin='round' d='M2 4l4 4 4-4'/%3E%3C/svg%3E");
  background-position: center;
  background-repeat: no-repeat;
}

/* ========== Form field spacing ========== */
/* Vertical spacing between form groups and form rows */
.b99-style .econ-form-group + .econ-form-group,
.b99-style .econ-fragment-form-row {
  /* Box Model declarations */
  margin-bottom: calc(var(--input-margin-between) * 2);
  margin-top: var(--input-margin-between);

  /* Positioning declarations */
  position: relative;
}

/* ========== Form control width ========== */
/* Ensure form control outer takes full width when using col-10 */
.b99-style .econ-fragment > .econ-form-group .econ-form-control-outer.col-10 {
  /* Box Model declarations */
  width: 100%;
}

/* ========== Bootstrap overrides ========== */
/* Override external stylesheet's padding-bottom on form groups */
form.b99-style .econ-form-group.pb-3 {
  /* Box Model declarations */
  padding-bottom: 0 !important;
}

/* ========== Radio form fields ========== */
/* Radio label container */
.b99-style .econ-fragment-radio-group .econ-form-label {
  /* Display declarations */
  display: block;

  /* Box Model declarations */
  padding: 0;
}

.b99-style .econ-fragment-radio-group .econ-form-control-outer {
  /* Display declarations */
  flex: 0 0 calc(100% - var(--spacing-43));
}
 
.b99-style .econ-fragment-radio-group .col-10 > .row {
  /* Display declarations */
  display: block;
}

/* Radio button container box - bordered box with padding */
.b99-style .econ-fragment-radio-group .econ-radio .col-6 {
  /* Box Model declarations */
  box-sizing: border-box;
  border: var(--input-border-width) solid var(--input-border-color);
  padding: calc(var(--input-padding) * 2) var(--input-padding);
  
  /* Positioning declarations */
  position: relative; /* Required for label overlay positioning */

  /* Miscellaneous declarations */
  border-radius: var(--input-border-radius);
  cursor: pointer; /* Visual feedback that the whole box is clickable */
}

/* Radio button label - stretched to cover entire container */
/* This makes the entire .col-6 box clickable via the label */
.b99-style .econ-fragment-radio-group .econ-radio .col-6 .econ-radio-label {
  /* Positioning declarations */
  position: static; /* Keep label in normal flow for text positioning */
}

.b99-style .econ-fragment-radio-group .econ-radio .col-6:hover,
.b99-style .econ-fragment-radio-group .econ-radio .col-6:focus {
  /* Box Model declarations */
  border-color: transparent;
}

.b99-style .econ-fragment-radio-group .econ-radio .col-6:hover .econ-radio-label::after,
.b99-style .econ-fragment-radio-group .econ-radio .col-6:focus .econ-radio-label::after {
  /* Box Model declarations */
  border: var(--input-border-width) solid var(--color-primary);

  /* Miscellaneous declarations */
  border-radius: var(--input-border-radius);
}

/* Clickable overlay - covers entire .col-6 container */
/* Uses ::after pseudo-element to extend label's clickable area */
.b99-style .econ-fragment-radio-group .econ-radio .col-6 .econ-radio-label::after {
  /* Content declarations */
  content: "";

  /* Positioning declarations */
  inset: 0; /* Covers entire parent (top: 0, right: 0, bottom: 0, left: 0) */
  position: absolute;

  /* Miscellaneous declarations */
  cursor: pointer;
}

/* Active/selected state - visual feedback for selected radio option */
.b99-style .econ-fragment-radio-group .econ-radio .col-6.econ-radio--active {
  /* Color declarations */
  background-color: var(--color-background);

  /* Box Model declarations */
  border-color: var(--input-border-color-focus);

  /* Miscellaneous declarations */
  box-shadow: var(--input-box-shadow-focus);
}

.b99-style .econ-fragment-radio-group > .econ-form-group {
  /* Positioning declarations */
  position: relative;
}


/* ========== Checkbox labels ========== */
/* Checkbox label container */
.b99-style .econ-checkbox-label {
  /* Display declarations */
  display: block;
}

/* Paragraph text within checkbox labels */
.b99-style .econ-checkbox-label p {
  /* Typography declarations */
  font-size: var(--font-size-12);
}

/* Second paragraph - truncated with fade effect for long text */
.b99-style .b99-email-confirmation-box .econ-checkbox-label p:nth-of-type(2) {
  /* Positioning declarations */
  position: relative;

  /* Typography declarations */
  line-height: var(--line-height-relaxed);
  
  /* Manipulations declarations */
  max-height: 3.75em; /* ~2.5 lines at 1.5em line-height */
  overflow: hidden;
}

/* Fade gradient overlay at bottom of truncated paragraph */
.b99-style .b99-email-confirmation-box .econ-checkbox-label p:nth-of-type(2)::after {
  /* Content declarations */
  content: '';

  /* Positioning declarations */
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;

  /* Box Model declarations */
  height: 3.5em;

  /* Color declarations */
  background: linear-gradient(180deg, transparent 0%, var(--color-gradient-end) 100%);

  /* Miscellaneous declarations */
  pointer-events: none;
}

/* Hide third paragraph initially (shown via JS when expanded) */
.b99-style .b99-email-confirmation-box .econ-checkbox-label p:nth-of-type(3) {
  /* Display declarations */
  display: none;
}

/* When expanded, remove restrictions */
.b99-style .b99-email-confirmation-box .econ-checkbox-label p:nth-of-type(2).expanded {
  /* Manipulations declarations */
  max-height: none !important;
  overflow: visible !important;
}

/* Remove fade when expanded */
.b99-style .b99-email-confirmation-box .econ-checkbox-label p:nth-of-type(2).expanded::after {
  /* Display declarations */
  display: none !important;
}

/* Show third paragraph when visible class is added */
.b99-style .b99-email-confirmation-box .econ-checkbox-label p:nth-of-type(3).visible {
  /* Display declarations */
  display: block !important;
}

/* ========== Checkbox inputs ========== */
/* Valid checkbox label text color */
.econ-container .b99-style .form-check-input.is-valid~.form-check-label {
  /* Color declarations */
  color: var(--color-text);
}

/* Base checkbox input styles - fixed 25x25px size */
.econ-container .b99-style .form-check-input {
  /* Box Model declarations */
  border: var(--input-border-width) solid var(--color-text);
  height: 1.5625rem; /* 25px */
  margin-top: 0;
  width: 1.5625rem; /* 25px */
  
  /* Manipulations declarations */
  min-width: 1.5625rem; /* prevent shrinking in flex containers */
  
  /* Display declarations */
  flex-shrink: 0;
  
  /* Miscellaneous declarations */
  border-radius: var(--input-border-radius);
  print-color-adjust: exact;
  vertical-align: top;

  /* Color declarations */
  background-color: #fff;
  background-position: center;
  background-repeat: no-repeat;
  background-size: contain;
  
  /* Display declarations */
  appearance: none;
}

/* Reset Bootstrap's float and margin */
.econ-container .b99-style .form-check .form-check-input {
  /* Positioning declarations */
  float: unset;

  /* Box Model declarations */
  margin-left: 0;

  /* Positioning declarations */
  vertical-align: middle;
}

/* Valid checkbox border color */
.econ-container .b99-style .form-check-input.is-valid {
  /* Box Model declarations */
  border-color: var(--color-text);
}

.econ-container .b99-style .form-check-input:checked,
.econ-container .b99-style .form-check-input.is-valid:checked {
  /* Color declarations */
  background-color: var(--color-primary);
  color: var(--color-text);
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23000' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='m6 10 3 3 6-6'/%3e%3c/svg%3e");

  /* Box Model declarations */
  border-color: var(--input-border-color-focus);
}

/* Checkbox border radius */
.econ-container .b99-style .form-check-input[type=checkbox] {
  /* Miscellaneous declarations */
  border-radius: var(--input-border-radius);
}

/* Checkbox focus state */
.econ-container .b99-style .form-check-input:focus,
.econ-container .b99-style .form-check-input:hover {
  /* Box Model declarations */
  border-color: var(--color-primary);
  outline: 0;

  /* Miscellaneous declarations */
  box-shadow: var(--input-box-shadow-focus);
}