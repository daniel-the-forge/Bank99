/**
 * Form section components
 * Section headers, collapsible sections, dividers
 * Uses design tokens â€“ requires design-system.css
 */

/* ========== Form container padding ========== */
/* Horizontal padding for form content (left and right margins) */
.econ-container form {
  padding-left: var(--form-margin-horizontal);
  padding-right: var(--form-margin-horizontal);
}

/* ========== Section headers ========== */
/* Yellow title bar for collapsible sections */
/* Uses @supports to check for :has() selector support (modern browsers) */
@supports selector(:has(h3)) {
  /* Section header bar - yellow background with shadow */
  .econ-section-header:has(h3) {
    background-color: var(--color-primary);
    box-shadow: var(--shadow-default);
    border-radius: var(--form-section-header-radius);
    /* margin-top: var(--form-section-header-margin-top); */
    margin-bottom: var(--form-section-header-margin-bottom);
    /* Negative margin to extend header to form edges, accounting for Bootstrap gutter */
    margin-inline: calc((var(--bs-gutter-x, 1.5rem) * -0.5) - var(--form-margin-horizontal));
    padding-top: var(--form-section-header-padding-top);
    padding-bottom: var(--form-section-header-padding-bottom);
  }
  
  /* Section header title text styling */
  .econ-section-header h3 {
    font-size: var(--font-size-18);
    font-family: var(--font-family);
    color: var(--color-text);
    font-weight: var(--font-weight-bold);
    letter-spacing: 0;
    line-height: 1;
    text-align: center;
    margin: 0;
  }

  .econ-section-header.econ-collapse-header:has(h3) {
    background-color: var(--color-background);
    margin-inline: 0;
    border-radius: 4px;
    display: flex;
    align-items: center;
    column-gap: 8px;
    padding: 16px 20px;
  }
  
  .econ-section-header.econ-collapse-header:has(h3)::before {
    content: '';
    display: block;
    width: 15px;
    height: 10px;
    flex-shrink: 0;
    background-image: url("data:image/svg+xml,%3Csvg width='15' height='10' viewBox='0 0 15 10' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M0 2.26316L7.10526 9.39474L14.2368 2.26316L11.9737 0L7.10526 4.86842L2.26316 0L0 2.26316Z' fill='black'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: center;
    background-size: contain;
  }
  
  .econ-section-content.collapse {
    position: relative;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease-in-out;
  }
  
  .econ-section-content.collapse.show {
    max-height: 1000px;
    overflow: visible;
  }

}

/* ========== Fragment content ========== */
/* Paragraph text within fragment content rows */
.econ-fragment-content-row p {
  font-size: var(--font-size-12);
  margin-left: calc(var(--bs-gutter-x) * .5);
  max-width: 80%;
}

/* ========== Section spacing ========== */
/* Sections with bottom separation line get extra margin */
.econ-section.with-bottom-separation-line {
  margin-bottom: 38px;
}

.econ-fragment-multiple.econ-fragment-checkbox .econ-form-control-outer {
  background-color: var(--color-background);
  border-radius: var(--input-border-radius) !important;
  padding: calc(var(--form-margin-horizontal) / 2) var(--form-margin-horizontal);
  margin-top: calc(var(--form-margin-horizontal) / 2);
}

.econ-fragment-multiple.econ-fragment-checkbox .form-check {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 0;
}

.econ-fragment-multiple.econ-fragment-checkbox .econ-control-icon {
  display: none;
}

/* ========== Media queries ========== */
/* Responsive breakpoints - Bootstrap-compatible breakpoints for larger screens */
/* Mobile-first approach: base styles are for mobile, these add desktop styles */

/* Small devices (landscape phones, 576px and up) */
@media (min-width: 576px) {
  @supports selector(:has(h3)) {
    /* Section header bar - yellow background with shadow */
    .econ-section-header:has(h3) {
      margin-inline: 0;
    }
  }

  .econ-container form {
    padding-left: 0;
    padding-right: 0;
  }
}