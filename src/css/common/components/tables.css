/**
 * Table components
 * Styling for comparison tables (e.g., product selection)
 * Uses design tokens â€“ requires design-system.css
 */

/* ========== Base table styles ========== */
/* Product comparison table - responsive with highlighted column */
.b99-style .table-produktauswahl {
  /* Box Model declarations */
  border-collapse: separate;
  border-spacing: 0 var(--table-row-gap);
  width: 100%;

  /* Typography declarations */
  font-size: var(--table-font-size);
  font-family: var(--font-family);

  /* Color declarations */
  background-color: var(--color-background-40);
  color: var(--color-text);

  /* Miscellaneous declarations */
  border-radius: var(--table-border-radius);
}

/* ========== Table header ========== */
/* Header row with larger font and bold text */
.b99-style .table-produktauswahl thead {
  /* Typography declarations */
  font-size: var(--table-header-font-size);
  font-weight: var(--font-weight-bold);
}

/* Header cells */
.b99-style .table-produktauswahl thead td {
  /* Box Model declarations */
  padding: var(--table-cell-padding);

  /* Typography declarations */
  text-align: center;

  /* Positioning declarations */
  vertical-align: middle;
}

/* Highlighted column header (depot99) - full opacity yellow with top border radius */
.b99-style .table-produktauswahl thead td:nth-child(3) {
  /* Color declarations */
  background-color: var(--table-highlight-bg);

  /* Miscellaneous declarations */
  border-radius: var(--table-border-radius) var(--table-border-radius) 0 0;
}

/* ========== Table body ========== */
/* Body cells */
.b99-style .table-produktauswahl tbody td {
  /* Box Model declarations */
  padding: var(--table-cell-padding);

  /* Positioning declarations */
  vertical-align: top;
}

/* First column (labels) - left aligned */
.b99-style .table-produktauswahl tbody td:first-child {
  /* Typography declarations */
  text-align: left;
}

/* Data columns - center aligned */
.b99-style .table-produktauswahl tbody td:nth-child(2),
.b99-style .table-produktauswahl tbody td:nth-child(3) {
  /* Typography declarations */
  text-align: center;
}

/* Highlighted column body cells (depot99) - 45% opacity yellow */
.b99-style .table-produktauswahl tbody td:nth-child(3) {
  /* Color declarations */
  background-color: var(--table-highlight-bg-opacity);
}

/* Last row - add bottom border radius to highlighted column */
.b99-style .table-produktauswahl tbody tr:last-child td:nth-child(3) {
  /* Miscellaneous declarations */
  border-radius: 0 0 var(--table-border-radius) var(--table-border-radius);
}

/* ========== Bold text ========== */
/* Bold tags within table cells */
.b99-style .table-produktauswahl b {
  /* Typography declarations */
  font-weight: var(--font-weight-bold);
}

/* ========== Responsive table ========== */
/* Make the parent container horizontally scrollable on mobile */
/* This targets the static module container that wraps the table */
.b99-style .econ-fragment-static-module:has(.table-produktauswahl) {
  /* Manipulations declarations */
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}



/* ========== Mobile column reordering ========== */
/* On mobile, visually move depot99 (column 3) to the middle position */
/* Uses flexbox on table rows to reorder cells without changing HTML */
@media (max-width: 576px) {

  /* Reduce font size and padding on mobile */
  .b99-style .table-produktauswahl {
    /* Typography declarations */
    font-size: var(--spacing-10);
  }

  .b99-style .table-produktauswahl thead {
    /* Typography declarations */
    font-size: var(--font-size-12);
  }

  .b99-style .table-produktauswahl thead td,
  .b99-style .table-produktauswahl tbody td {
    /* Box Model declarations */
    padding: calc(var(--table-cell-padding) / 2);
  }



  /* Make table rows flex containers */
  .b99-style .table-produktauswahl thead tr,
  .b99-style .table-produktauswahl tbody tr {
    /* Display declarations */
    display: flex;
  }
  
  /* All cells take equal width by default */
  .b99-style .table-produktauswahl thead td,
  .b99-style .table-produktauswahl tbody td {
    /* Display declarations */
    flex: 1;

    /* Manipulations declarations */
    min-width: 0; /* Allow cells to shrink below content size */
  }
  
  /* First column (labels) - stays on the left, slightly wider */
  .b99-style .table-produktauswahl thead td:nth-child(1),
  .b99-style .table-produktauswahl tbody td:nth-child(1) {
    /* Positioning declarations */
    order: 1;

    /* Display flex */
    flex: 1.2;
  }
  
  /* Second column (aktuelles Modell/Fondsdepot99) - moves to the right */
  .b99-style .table-produktauswahl thead td:nth-child(2),
  .b99-style .table-produktauswahl tbody td:nth-child(2) {
    /* Positioning declarations */
    order: 3;
  }
  
  /* Third column (depot99 - highlighted) - moves to the middle */
  .b99-style .table-produktauswahl thead td:nth-child(3),
  .b99-style .table-produktauswahl tbody td:nth-child(3) {
    /* Positioning declarations */
    order: 2;
  }
}
