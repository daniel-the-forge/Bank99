/**
 * Header layout – .top-bar (injected into #header)
 * 2-column structure: left = logos, right = slot for future titles + progress
 * Uses design tokens – requires design-system.css
 */

/* ========== Top bar container ========== */
/* Main header bar - dynamically injected into empty #header div by backend */
.top-bar {
  /* Miscellaneous declarations */
  all: unset;

  /* Box Model declarations */
  box-sizing: border-box;
  padding-bottom: var(--header-padding-bottom);
  padding-left: var(--header-padding-left);
  padding-right: var(--header-padding-right);
  padding-top: var(--header-padding-top);

  /* Display declarations */
  display: block;
  
  /* Color declarations */
  background-color: var(--color-background-secondary-70);

  /* Miscellaneous declarations */
  box-shadow: var(--header-shadow);

  /* Positioning declarations */
  position: relative;
  z-index: 2;
}

/* ========== Grid column layout ========== */
/* CSS Grid layout: left column auto-sized (logos), right column flexible (titles/progress) */
.top-bar > .row {
  /* Display declarations */
  align-items: start;
  column-gap: var(--spacing-16);
  display: grid;
  grid-template-columns: auto 1fr;
}

/* ========== Content header (titles) ========== */
/* Page title container - hidden by default, shown via JS when content loads */
.content-header.content {
  /* Color declarations */
  opacity: 0;

  /* Manipulations declarations */
  transition: opacity var(--transition-default);
  
  /* Positioning declarations */
  grid-area: 2/2;

  /* Box Model declarations */
  margin-top: calc(var(--spacing-16) * -1);
}

.content-header > div:first-child {
  /* Display declarations */
  display: none;
}

.page-content > .hr.hr-20,
.page-content .b99-page-header {
  /* Display declarations */
  display: none;
}

/* Visible state - applied via JS when content is ready */
.content-header.content.content-header--visible {
  /* Color declarations */
  opacity: 1;
}

/* Page title styling */
.top-bar h1 {
  /* Typography declarations */
  font-size: var(--font-size-16);
  font-weight: var(--font-weight-bold);
  line-height: var(--line-height-normal);

  /* Color declarations */
  color: var(--color-text);

  /* Box Model declarations */
  margin-bottom: var(--spacing-8);
  margin-top: 0;
}

/* Subtitle/second line of title */
.top-bar h1 span {
  /* Typography declarations */
  font-weight: var(--font-weight-regular);

  /* Display declarations */
  display: block;
}

/* ========== Progress bar container ========== */
/* Progress bar wrapper - provides space for shadow */
.econ-container .progress {
  /* Display declarations */
  display: flex;

  /* Box Model declarations */
  height: var(--bs-progress-height);
  padding-bottom: var(--spacing-2); /* Space for shadow */

  /* Manipulations declarations */
  overflow: visible; /* Changed from hidden to allow shadow visibility */

  /* Typography declarations */
  font-size: var(--font-size-12);

  /* Color declarations */
  background-color: transparent;

  /* Miscellaneous declarations */
  border-radius: var(--border-radius-sm);
}

/* ========== Progress bar ========== */
/* Progress bar fill - yellow bar with shadow */
.econ-container .progress-bar {
  /* Color declarations */
  background-color: var(--color-primary);
  color: var(--color-text);

  /* Miscellaneous declarations */
  border-radius: var(--border-radius-sm);
  box-shadow: var(--spacing-2) var(--spacing-2) var(--spacing-2) rgba(0, 0, 0, 0.35);

  /* Manipulations declarations */
  overflow: hidden; /* Keep overflow hidden for content, shadow extends outside */
  transition: width var(--transition-slow);

  /* Display declarations */
  display: flex;
  flex-direction: column;
  justify-content: center;
  
  /* Typography declarations */
  text-align: center;
  white-space: nowrap;
}

/* Progress bar percentage */
.econ-container .progress-percentage {
  /* Box Model declarations */
  margin-left: var(--input-padding);

  /* Typography declarations */
  font-size: var(--font-size-14);
  font-weight: var(--font-weight-bold);
}

/* ========== Media queries ========== */
/* Responsive breakpoints - Bootstrap-compatible breakpoints for larger screens */
/* Mobile-first approach: base styles are for mobile, these add desktop styles */

/* Small devices (landscape phones, 576px and up) */
/* Fluid transition: 540px at 576px → 710px at 768px */
@media (min-width: 576px) {
  /* Center page content with fluid max-width constraint */
  /* Smoothly transitions from 540px (576px) to 710px (768px) */
  .top-bar > .row {
    /* Box Model declarations */
    margin-left: auto;
    margin-right: auto;
    
    /* Manipulations declarations */
    max-width: clamp(540px, calc(540px + (100vw - 576px) * 0.885416), 710px);
  }
}

/* Medium devices (tablets, 768px and up) */
/* Fixed width at 710px - clamp() ensures this value is maintained */
@media (min-width: 768px) {
  /* No additional changes needed - clamp() handles the transition */
}

/* Large devices (desktops, 992px and up) */
@media (min-width: 992px) {
  /* No additional changes needed - clamp() maintains 710px */
}